# Mall-DDD 基于DDD架构的简单支付流程展示项目
## 这是一个什么项目？
Mall-DDD基于Spring Boot 开发，采用传统 MVC 和当下最火热的 DDD 两种迥然不同的架构风格编写，旨在帮助同学们了解当前企业界最新的技术发展趋势，以及传统 MVC 模式和 DDD(领域驱动设计) 在具体项目上的实现区别。
## 什么是 MVC 架构？
MVC（Model-View-Controller）是一种软件设计模式，广泛应用于Web开发和桌面应用程序设计，用于分离关注点，提高代码的可维护性和可扩展性。其核心组成部分如下：

- Model（模型）：负责数据和业务逻辑，处理数据的存储、检索和操作。例如，数据库交互、业务规则的实现。
- View（视图）：负责用户界面的展示，将数据以可视化方式呈现给用户。视图通常不包含业务逻辑，只负责显示。
- Controller（控制器）：充当Model和View之间的中介，处理用户输入，协调Model的更新和View的渲染。例如，接收用户请求，调用Model处理数据，再将结果传递给View。
### MVC工作流程：

用户通过View发起请求（如点击按钮）。
Controller接收请求，调用Model处理业务逻辑。
Model更新数据后，通知Controller。
Controller将结果传递给View，更新用户界面。
### 优点：

- 职责分离，代码模块化，易于维护。
- 视图和模型解耦，便于测试和重用。
- 适合Web应用，前后端分离的雏形。
### 缺点：

- 对于复杂项目，Controller可能变得臃肿。
- 模型和视图之间的间接通信可能增加开发复杂度。
## 什么是 DDD (领域驱动设计)
领域驱动设计（Domain-Driven Design, DDD）是一种软件开发方法论，由Eric Evans提出，强调以业务领域为核心驱动软件设计和开发。DDD的目标是通过深入理解业务领域，建立领域模型，将复杂的业务逻辑分解为清晰的模块，从而提高软件的可维护性、可扩展性和业务一致性。DDD特别适合复杂业务场景的系统设计。

DDD的核心概念
- 领域（Domain）：业务的核心问题域，包含业务规则和逻辑。
- 领域模型（Domain Model）：通过对象模型抽象业务概念，表达领域中的实体、值对象、聚合等。
- 聚合（Aggregate）：一组相关对象的集合，以聚合根（Aggregate Root）作为对外交互的入口，确保数据一致性。
- 限界上下文（Bounded Context）：为领域模型划定明确的边界，避免概念混淆，解决不同上下文中的术语歧义。
- 实体（Entity）和值对象（Value Object）：实体有唯一标识，值对象无标识，用于描述领域中的对象。
- 仓储（Repository）：用于持久化聚合，提供对数据的访问。
- 领域服务（Domain Service）：处理不适合放在实体或值对象中的业务逻辑。
### DDD的特点
- 以领域为核心：从业务需求出发，设计反映业务本质的模型。
- 高内聚低耦合：通过限界上下文和聚合实现模块化。
- 复杂系统适用：适合业务逻辑复杂、需要长期维护的系统。
- 协作性强：强调开发团队与领域专家的紧密合作。
### DDD与MVC的区别

| **维度**           | **DDD（领域驱动设计）**                                                                 | **MVC（模型-视图-控制器）**                                              |
|--------------------|----------------------------------------------------------------------------------|------------------------------------------------------------------|
| **核心理念**       | 以业务领域为核心，通过领域模型驱动设计，强调业务逻辑的表达和模块化。                            | 以用户界面交互为核心，分离视图、模型和控制器，强调用户界面与业务逻辑的解耦。         |
| **适用场景**       | 适合复杂业务逻辑的系统，如企业级应用、金融系统、电商平台等。                                      | 适合Web应用或以用户界面驱动的系统，如简单的Web应用、内容管理系统。             |
| **架构层次**       | 多层次（应用层、领域层、基础设施层等），关注领域模型和限界上下文。                              | 三部分（Model、View、Controller），关注用户交互和界面逻辑分离。              |
| **模型设计**       | 领域模型复杂，包含实体、值对象、聚合、仓储等，反映真实业务规则。                                | 模型通常较为简单，主要负责数据存储和基本业务逻辑，偏向数据操作。                |
| **职责分配**       | 领域层承载核心业务逻辑，应用层协调流程，基础设施层处理技术细节。                                | Controller处理用户输入，Model处理数据和逻辑，View负责展示。                 |
| **模块化方式**     | 通过限界上下文划分模块，强调上下文边界，降低耦合。                                            | 通过MVC三部分划分，模块化程度较低，Controller可能变得臃肿。                  |
| **开发复杂度**     | 初期设计复杂，需要深入理解业务，适合长期维护的大型项目。                                      | 设计简单，易于快速开发，适合中小型项目或快速原型。                        |
| **团队协作**       | 强调开发团队与领域专家协作，需共享领域术语（如通用语言）。                                      | 开发团队关注技术实现，业务专家参与较少，通用语言不强制。                    |
| **扩展性**         | 高扩展性，限界上下文和聚合支持分布式系统和微服务架构。                                        | 扩展性较弱，复杂项目中Controller和Model可能难以拆分。                     |
| **典型技术**       | 常结合Spring、Hibernate等实现仓储和服务，或用于微服务架构。                                     | 常用于Web框架，如Spring MVC、ASP.NET MVC、Django等。                     |

## 总结
- **DDD**：聚焦业务领域，适合复杂、长期演进的系统，强调领域模型和模块化。
- **MVC**：聚焦用户交互，适合界面驱动的简单应用，强调视图与逻辑分离。
- **关系**：DDD和MVC不互斥，MVC可作为DDD应用层的实现方式之一，DDD提供更深层次的业务建模。
  ![DomainDrivenHexagon](https://github.com/user-attachments/assets/42e7b86f-b3b0-445a-b8df-2bcd393f1db0)
